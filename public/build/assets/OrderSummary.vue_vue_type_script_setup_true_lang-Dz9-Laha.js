import{d as h,b as o,c as i,v as w,n as S,u as e,Q as k,r as b,J as P,e as s,l as c,N as B,w as u,i as C,k as v,f as y,t as r,q as D,O as M,h as q,F as $,I as E,L as A}from"./app-B_kHfgbT.js";import{c as I,a as V,b as R,_ as x,h as X,i as F,A as J,d as K}from"./index-Cw0CgPzT.js";/**
 * @license lucide-vue-next v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=I("LoaderCircleIcon",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-vue-next v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=I("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),T="/build/assets/visa-DS3B3I1A.svg",U="/build/assets/mastercard-CENMZqJ9.svg",H="/build/assets/paypal-D6R05u4W.svg",Q="/build/assets/amex-ChXhcif8.svg",W="/build/assets/promptpay-CLI0zcqU.png",Z=h({__name:"CardContent",props:{class:{}},setup(p){const t=p;return(n,a)=>(o(),i("div",{class:S(e(V)("p-6 pt-0",t.class))},[w(n.$slots,"default")],2))}}),G=h({__name:"CardHeader",props:{class:{}},setup(p){const t=p;return(n,a)=>(o(),i("div",{class:S(e(V)("flex flex-col gap-y-1.5 p-6",t.class))},[w(n.$slots,"default")],2))}}),Y=h({__name:"CardTitle",props:{class:{}},setup(p){const t=p;return(n,a)=>(o(),i("h3",{class:S(e(V)("font-semibold leading-none tracking-tight",t.class))},[w(n.$slots,"default")],2))}}),ee={class:"space-y-4"},se={class:"flex space-x-2"},ae={key:1,class:"flex items-center justify-between p-2 bg-gray-50 rounded"},te={class:"text-sm text-gray-500"},re=h({__name:"PromoCode",emits:["apply"],setup(p,{emit:t}){const n=k(),a=b(""),_=b(!1),m=b(null),l=b(!1),N=t,j=()=>{a.value&&(_.value=!0,m.value=null,N("apply",a.value))};return P(()=>n.props.flash,d=>{_.value=!1,d.error&&(m.value=d.error,l.value=!1),d.status==="error"&&(m.value=d.message,l.value=!1),d.status==="success"&&(m.value=null,l.value=!0,a.value="")},{deep:!0}),(d,g)=>(o(),i("div",ee,[s("div",se,[c(e(R),{modelValue:a.value,"onUpdate:modelValue":g[0]||(g[0]=z=>a.value=z),placeholder:d.$t("cart.promo_code.title"),disabled:_.value,onKeyup:B(j,["enter"])},null,8,["modelValue","placeholder","disabled"]),c(e(x),{class:"whitespace-nowrap",disabled:!a.value||_.value,onClick:j},{default:u(()=>[_.value?(o(),C(e(O),{key:0,class:"w-4 h-4 animate-spin mr-2"})):v("",!0),y(" "+r(d.$t("cart.promo_code.button")),1)]),_:1},8,["disabled"])]),m.value?(o(),C(e(F),{key:0,variant:"destructive",class:"mt-2"},{default:u(()=>[c(e(X),null,{default:u(()=>[y(r(m.value),1)]),_:1})]),_:1})):v("",!0),l.value&&e(n).props.promo?(o(),i("div",ae,[s("div",null,[g[1]||(g[1]=s("p",{class:"font-medium"},"Code promo appliquÃ©",-1)),s("p",te," -"+r(d.formatPrice(e(n).props.promo.discount,e(n).props.cart.currency)),1)]),c(e(x),{variant:"ghost",size:"icon",onClick:d.handleRemove},{default:u(()=>[c(e(L),{class:"w-4 h-4"})]),_:1},8,["onClick"])])):v("",!0)]))}}),f=(p,t)=>new Intl.NumberFormat(void 0,{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(p),le={class:"space-y-4"},ce={class:"flex justify-between text-sm"},oe={class:"text-muted-foreground"},ne={class:"font-medium"},ue={key:0,class:"flex justify-between w-full"},ie={class:"text-green-600"},de={class:"text-sm text-green-500"},pe={class:"flex items-center gap-2"},me={class:"font-medium text-green-600"},_e={class:"text-gray-600"},fe={class:"font-medium"},ve={class:"text-gray-600"},ye={class:"font-medium"},he={key:0,class:"flex justify-between text-sm text-green-600"},ge={class:"flex justify-between items-center"},be={class:"text-lg font-semibold"},xe={class:"text-3xl font-bold"},$e={class:"flex items-center justify-center gap-4 pt-4 text-gray-500"},ke=["src"],Ce=["src"],we=["src"],Se=["src"],Ve=["src"],Ae=h({__name:"OrderSummary",setup(p){k();const t=D(()=>k().props.cart),n=a=>{A.post(route("cart.promo.apply"),{code:a},{preserveScroll:!0,preserveState:!0})};return(a,_)=>{const m=M("Separator");return o(),C(e(K),null,{default:u(()=>[c(e(G),{class:"pb-4"},{default:u(()=>[c(e(Y),{class:"text-xl font-bold"},{default:u(()=>[y(r(a.$t("cart.order_summary.title")),1)]),_:1})]),_:1}),c(e(Z),{class:"space-y-6"},{default:u(()=>[s("div",le,[s("div",ce,[s("span",oe,r(a.$t("cart.order_summary.subtotal")),1),s("span",ne,r(e(f)(t.value.subtotal,t.value.currency)),1)]),(o(!0),i($,null,q(t.value.conditions,l=>(o(),i("div",{key:l.name,class:"flex justify-between text-sm"},[l.type==="promo"?(o(),i("div",ue,[s("div",null,[s("span",ie,[y(r(l.name)+" ",1),s("span",de," ("+r(l.value.includes("%")?l.value:e(f)(Math.abs(Number(l.value)),t.value.currency))+") ",1)])]),s("div",pe,[s("span",me," -"+r(e(f)(l.calculatedValue,t.value.currency)),1),c(e(x),{variant:"ghost",size:"icon",class:"h-6 w-6",onClick:_[0]||(_[0]=N=>e(A).delete(a.route("cart.promo.remove"),{preserveScroll:!0,preserveState:!0}))},{default:u(()=>[c(e(L),{class:"h-4 w-4"})]),_:1})])])):l.type==="shipping"?(o(),i($,{key:1},[s("span",_e,r(a.$t("cart.order_summary.shipping")),1),s("span",fe,r(e(f)(l.calculatedValue,t.value.currency)),1)],64)):l.type==="tax"?(o(),i($,{key:2},[s("span",ve,r(a.$t("cart.order_summary.tax")),1),s("span",ye,r(e(f)(l.calculatedValue,t.value.currency)),1)],64)):v("",!0)]))),128))]),c(m,{class:"bg-gray-200"}),c(e(re),{currency:t.value.currency,onApply:n},null,8,["currency"]),a.discount?(o(),i("div",he,[s("span",null,r(a.$t("cart.order_summary.discount")),1),s("span",null,"-"+r(e(f)(a.discount,t.value.currency)),1)])):v("",!0),c(m,{class:"bg-gray-200"}),s("div",ge,[s("span",be,r(a.$t("cart.order_summary.total")),1),s("span",xe,r(e(f)(t.value.total,t.value.currency)),1)]),c(e(x),{"as-child":"",class:"w-full h-14 text-lg font-medium",size:"lg"},{default:u(()=>[c(e(E),{href:a.route("cart.checkout")},{default:u(()=>[y(r(a.$t("cart.order_summary.checkout"))+" ",1),c(e(J),{class:"ml-2 w-5 h-5"})]),_:1},8,["href"])]),_:1}),s("div",$e,[s("img",{src:e(T),alt:"Visa",class:"h-6"},null,8,ke),s("img",{src:e(U),alt:"Mastercard",class:"h-6"},null,8,Ce),s("img",{src:e(Q),alt:"American Express",class:"h-6"},null,8,we),s("img",{src:e(H),alt:"Paypal",class:"h-8"},null,8,Se),s("img",{src:e(W),alt:"Promptpay",class:"h-10"},null,8,Ve)])]),_:1})]),_:1})}}});export{O as L,G as _,Y as a,Z as b,Ae as c,f};
